var y=class{#s=[];use=t=>this.#s.push(t);compile=t=>{let{cssList:i}=this.parse(t),n="";for(let l of i){let s="",r=!0;for(let e of l.parents)r?(r=!1,s+=e):e[0]==="$"?s+=":"+e.slice(1):s+=">"+e;if(Array.isArray(l.styles.$apply)){for(let e of l.styles.$apply)for(let f of this.#s){let a=f(e)??!1;if(f!==!1)for(let p in a)l.styles[p.split("").map(o=>o.match(/[A-Z]/)?"-"+o.toLowerCase():o).join("")]=a[p]}delete l.styles.$apply}n+=s+"{";for(let e in l.styles)n+=e+":"+l.styles[e]+";";n+="}"}return n};parse=(t,i=[],n=[])=>{let l={};for(let s in t)if(typeof t[s]=="string"||typeof t[s]=="number"||Array.isArray(t[s])){let r=s.split("").map(e=>e.match(/[A-Z]/)?"-"+e.toLowerCase():e).join("");l[r]=t[s]}else if(typeof t[s]=="object"){let r=Object.values(n);r.push(s),i.push({parents:r,styles:this.parse(t[s],i,r).style})}else continue;return{style:l,cssList:i}}},c=y;export{c as default};
